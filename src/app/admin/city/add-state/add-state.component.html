<div class="row">
  <div class="col-md-8 col-md-offset-2">
    <h2>NOUVEAU DEPARTEMENT</h2>
    <form
      #addStateForm="ngForm"
      (ngSubmit)="addStateForm.form.valid && onSubmit()"
      name="form"
      novalidate
    >
      <input
        type="hidden"
        name="id"
        #id="ngModel"
        [(ngModel)]="formDataStateDTO.id"
      />
      <div class="form-group">
        <label>Nom </label>
        <input
          type="text"
          class="form-control"
          [(ngModel)]="formDataStateDTO.name"
          name="name"
          id="name"
          #name="ngModel"
          required
        />
        <span
          class="text-danger"
          *ngIf="
            (name.touched || addStateForm.submitted) &&
            name.errors?.required
          "
        >
          Nom est obligatoire
        </span>
      </div>

      <div class="form-group">
        <label>Région</label>
        <div class="form-group">
          <select
            name="countryDto"
            [(ngModel)]="formDataStateDTO.countryDto"
            class="form-control"
            name="countryDto"
            id="countryDto"
            #countryDto="ngModel"
            required
          >
            <option [ngValue]="0">--Select--</option>
            <option
              *ngFor="let cat of listCountriesDTO"
              [ngValue]="
                cat.id == formDataStateDTO.countryDto?.id
                  ? formDataStateDTO.countryDto
                  : cat
              "
            >
              {{ cat.name }}
            </option>
          </select>
          <span
            class="text-danger"
            *ngIf="
              (countryDto.touched || addStateForm.submitted) &&
              countryDto.errors?.required
            "
          >
            Région est obligatoire
          </span>
        </div>
      </div>

      <div class="form-group">
        <button
          type="submit"
          class="btn btn-success"
          [disabled]="addStateForm.invalid"
        >
          <em class="fa fa-database"></em> Enregistrer</button
        >&nbsp;
        <button type="button" class="btn btn-danger ml-1" [mat-dialog-close]>
          <em class="fa fa-close"></em> Fermer
        </button>
      </div>
    </form>
  </div>
</div>
